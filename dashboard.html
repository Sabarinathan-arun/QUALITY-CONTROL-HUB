<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    /* Reset default margin and padding for the body */
    body {
      margin: 0;
      padding: 0;
      background-color: #3a3939;
      font-family: sans-serif;
    }

    .dashboard-container {
      display: flex;
      flex-direction: row;
    }

    .dashboard-side {
      width: 20%;
      height: 100vh;
      padding: 20px;
      background-color: #3a3939;
    }

    .dashboard-main {
        margin-top: 40px;
      width: 80%;
      padding: 10px;
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      background-color: #3a3939;
    }

    .flexbox {
      width: 350px;
      border-radius: 15px;
      height: 300px;
      background-color: #f0f0f0;
      margin-bottom: 20px;
    }
   
        .flexbox {
            background-color: #605f5f;
            display: flex;
            flex-direction: column;
            white-space: nowrap;
            gap: 100px;
        }

        .report-button {
            display: flex;
            justify-content: center;
            border: 2px solid #8e8d8d;
            width: 100px;
            border-radius: 15px;
            height: 30px;
            line-height: 1px;
            color: white;
            margin-left: 20px;
            
            margin-top: 30px; /* Pushes the content to the bottom */
        }

        .report-date {
            color: rgb(214, 129, 245);
            margin-top: 40px; /* Pushes the content to the bottom */
        }

        .download-container {
            display: flex;
            flex-direction: row;
            white-space: nowrap;
            margin-left: 100px;
            width: 150px;
            height: 50px;
            margin-top: auto; /* Pushes the content to the bottom */
            margin-bottom: 30px;
           
            background-color: #605f5f;
        }

        .download-button {
          display: flex;
            align-items: center;
            justify-content: center;
            padding: 0.25em 1em;
            background-color: #8e8d8d;
            color: white;
            border: 2px solid #d3cece;
            border-radius: 15px;
            align-items: center;
        }

        .download-icon {
            width: 20px;
            height: 20px;
            margin-left: 5px;
        }
    .report{
      display: flex;
      flex-direction: row;
      white-space: nowrap;
      gap: 120px;
    }
    .content{
      display: flex;
      padding: 3%;
      color: #8e8d8d;
    }
    .defect-update{
      color: black;
      font-weight: 600;
      margin-left: 20px;
      margin-top: 20px;
    }
    .boxes-container {
            display: flex;
            justify-content: space-between;
            width: 70%;
            height: 50px;
            transform: translateY(-90%);
            margin-left: 50px;
        }

        .box {
            background-color: #d3cece;
            border: 2px solid #bdbaba;
            width: calc(33.33% - 10px);
            height: 70px;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: white;
            
        }
        .partition {
            background-color: #d3cece;
            width: 100%;
            text-align: center;
            padding: 10px 0;
            border-radius: 10px;
            display: flex;
            flex-direction: row;
            
        }
        canvas#pieChartCanvas {
      width: 150px; /* Set the width of the canvas */
      height: 150px;}
      .flexbox1 {
    position: relative;
    display: inline-block;
  }

  .flexbox1 img {
    width: 350px;
    height: 300px;
  }

  .flexbox1 button {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -10%);
    padding: 10px 20px;
    background-color: rgb(214, 129, 245);
    color: #fff;
    border: none;
    cursor: pointer;
    margin-top: 20px;
    border-radius: 15px;
  }
  .flexbox2 {
    /* Your existing styles */
    background-color: #f0f0f0;
    margin-bottom: 20px;
  }

  .line-chart-canvas {
    width: 100%;
    height: 100%;
  }
</style>
</head>



<body>
  <div class="dashboard-container">
    <div class="dashboard-side">
      <!-- Contents of the 30% section -->
      <div style="display: flex;justify-content: center;"><div class="dashboard-header" style="color: #ffffff;font-weight: 700;font-size: 20px;margin-bottom: 20px;">Profile</div></div>
      
      <div style="display: flex;justify-content: center;"><img src="https://www.corporatephotographylondon.com/wp-content/uploads/2019/11/HKstrategies-1210-1024x683.jpg" width="100px" height="100px" style="border-radius: 50%;"></div>
      <div style="display: flex;justify-content: center;"><p style="color: #ffffff;">Andrea</p></div><br><br>
    <div style="display: flex;flex-direction: column;gap: 20px;justify-content: center;">
      <ul>
        <button style="width: 170px;height: 30px;border-radius: 10px;background-color: rgb(179, 31, 233);border: none;margin-bottom: 20px;"><a href="webcam_defect_detection.html" style="text-decoration: none;color: #ffffff;">Web Detection</a></button>
        <button style="width: 170px;height: 30px;border-radius: 10px;background-color: rgb(179, 31, 233);border: none;"><a href="collaboration_space.html" style="text-decoration: none;color: #ffffff;">Collaboration Space</a></button>
      </ul>
    </div>
    </div>
    <div class="dashboard-main">
        <!-- Flexboxes in rows of 3 -->
        <div class="flexbox" style="background-color:rgb(214, 129, 245) ;">
          <canvas id="barChartCanvas"></canvas>
        </div>
        <div class="flexbox">
          <div class="report">
          <div class="report-button">
              <div style="display: flex;flex-direction: column;margin-left: 160px;"><p style="margin-left: 35px;">Full Report</p><p style="margin-top: 50px;margin-left: 30px;font-size: 17px;font-family:sans-serif;color: #d3cece;">The report can be downloaded here!</p></div>
          </div>
          <p class="report-date">/2023</p>
        </div>
        <!--<div class="content"></div><p>The report of the defects identified can be downloaded here!</p></div>-->
          <div class="download-container">
              <button class="download-button" onclick="openImage()">Download Report
                <img class="download-icon" src="pdf (2).png" alt="PDF Icon">
              </button>
             
          </div>
      </div>
        <div class="flexbox" style="background-color: #d3cece;">
        <div class="defect-update">
          <p>Defect Rate</p>
        </div>
        <div class="boxes-container">
          <div class="box">
              <p style="color:#afaeae;transform: translateY(70%);">Mon</p>
              <p style="color: #3a3939;transform: translateY(-70%);">2</p>
          </div>
          <div class="box" style="background-color: #d681f5 ;border: none;">
              <p  style="color:#f6f3f3;transform: translateY(70%);">Tue</p>
              <p style="color: #3a3939;transform: translateY(-70%);">3</p>
          </div>
          <div class="box">
              <p  style="color:#afaeae;transform: translateY(70%);">Wed</p>
              <p style="color: #3a3939;transform: translateY(-70%);">4</p>
          </div>
          
      </div>
        </div>
        <div class="flexbox">
          <canvas id="pieChartCanvas"></canvas>
        </div>
        <div class="flexbox1">
          <img src="https://media.istockphoto.com/id/1306303354/photo/happy-young-man-using-virtual-reality-glasses.jpg?s=612x612&w=0&k=20&c=AFZqOxLGS6vQWm3fEBozWl7UkLeqeqh_WImxyAULIbA=" width="350px"height="300px" style="border-radius: 15px;">
          <button>Use AI</button>
        </div>
        <div class="flexbox"> <canvas class="area-chart-canvas" id="defectRateAreaChartCanvas"></canvas></div>
      </div>
    </div>
  
    <script>
      const defectedData = generateRandomData();
      const undefectedData = generateRandomData();
  
      const ctx = document.getElementById('barChartCanvas').getContext('2d');
      const barChart = new Chart(ctx, {
        type: 'bar',
        data: {
          labels: ['Material', 'Color', 'Dimension', 'Package', 'Performance'],
          datasets: [
            {
              label: 'Defected Items',
              backgroundColor: 'rgba(255, 255, 255, 0.7)',
              data: defectedData,
            },
            {
              label: 'Undefected Items',
              backgroundColor: 'rgba(255, 255, 255, 0.7)',
              data: undefectedData,
            },
          ],
        },
        options: {
      responsive: true,
      maintainAspectRatio: false,
      scales: {
        x: {
          stacked: true,
          ticks: {
            color: 'white' // Change x-axis tick color to white
          }
        },
        y: {
          beginAtZero: true,
          stacked: true,
          ticks: {
            color: 'white' // Change y-axis tick color to white
          }
        },
      },
      plugins: {
        legend: {
          labels: {
            color: 'white' // Set legend text color to white
          }
        }
      }
    },
  });
  
      function generateRandomData() {
        return Array.from({ length: 5 }, () => Math.floor(Math.random() * 100));
      }
      

    const pieCtx = document.getElementById('pieChartCanvas').getContext('2d');
    const pieChart = new Chart(pieCtx, {
      type: 'pie',
      data: {
        labels: ['Defected', 'Undefected'],
        datasets: [
          {
            data: [75, 25], // Sample data, you can replace it with your actual data
            backgroundColor: ['#d681f5', '#afaeae'],
          },
        ],
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            position: 'bottom',
            labels: {
              color: 'white',
            },
          },
        },
        cutout: '80%',
      },
    });
    const days = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
    const defectRate = [20, 30, 15, 40, 25, 50, 10];

    const areaChartCanvas = document.getElementById('defectRateAreaChartCanvas');
    const areaChartCtx = areaChartCanvas.getContext('2d');
    const areaChart = new Chart(areaChartCtx, {
      type: 'line',
      data: {
        labels: days,
        datasets: [{
          label: 'Defect Rate',
          data: defectRate,
          borderColor: 'rgb(214, 129, 245) ',
          backgroundColor: 'rgba(0, 0, 255, 0.3)', // Area fill color
          borderWidth: 2,
          lineTension: 0.3,
        }],
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        scales: {
          x: {
            display: true,
            ticks: {
              color: 'white' // X-axis tick color
            }
          },
          y: {
            beginAtZero: true,
            ticks: {
              color: 'white' // Y-axis tick color
            }
          }
        },
        plugins: {
          legend: {
            display: false // Hide legend
          }
        }
      }
    });
   
function openImage() {
  // Replace 'pdf (2).png' with the actual path to your image
  var imageUrl = 'excel.png';
  
  // Open the image in a new tab/window
  window.open(imageUrl, '_blank');
}

  </script>
   
</body>
</html>